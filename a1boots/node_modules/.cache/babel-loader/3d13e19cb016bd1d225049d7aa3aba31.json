{"ast":null,"code":"import * as React from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport { Router } from 'react-router';\n/**\n * A router that accepts a custom history.\n * To remove once https://github.com/remix-run/react-router/pull/7586 is merged.\n */\n\nexport function HistoryRouter(_a) {\n  var basename = _a.basename,\n      children = _a.children,\n      history = _a.history;\n\n  var _b = useState({\n    action: history.action,\n    location: history.location\n  }),\n      state = _b[0],\n      setState = _b[1];\n\n  useLayoutEffect(function () {\n    return history.listen(setState);\n  }, [history]);\n  return React.createElement(Router, {\n    basename: basename,\n    children: children,\n    location: state.location,\n    navigationType: state.action,\n    navigator: history\n  });\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,OAA1C;AAEA,SAASC,MAAT,QAAuB,cAAvB;AAEA;;;;;AAIA,OAAM,SAAUC,aAAV,CAAwBC,EAAxB,EAIe;MAHjBC,QAAQ;MACRC,QAAQ;MACRC,OAAO;;EAED,SAAoBN,QAAQ,CAAC;IAC/BO,MAAM,EAAED,OAAO,CAACC,MADe;IAE/BC,QAAQ,EAAEF,OAAO,CAACE;EAFa,CAAD,CAA5B;EAAA,IAACC,KAAK,QAAN;EAAA,IAAQC,QAAQ,QAAhB;;EAKNX,eAAe,CAAC;IAAM,cAAO,CAACY,MAAR,CAAeD,QAAf;EAAwB,CAA/B,EAAiC,CAACJ,OAAD,CAAjC,CAAf;EAEA,OACIR,oBAACG,MAAD,EAAO;IACHG,QAAQ,EAAEA,QADP;IAEHC,QAAQ,EAAEA,QAFP;IAGHG,QAAQ,EAAEC,KAAK,CAACD,QAHb;IAIHI,cAAc,EAAEH,KAAK,CAACF,MAJnB;IAKHM,SAAS,EAAEP;EALR,CAAP,CADJ;AASH","names":["React","useLayoutEffect","useState","Router","HistoryRouter","_a","basename","children","history","action","location","state","setState","listen","navigationType","navigator"],"sources":["/var/www/a1boots/node_modules/ra-core/src/routing/HistoryRouter.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport { History } from 'history';\nimport { Router } from 'react-router';\n\n/**\n * A router that accepts a custom history.\n * To remove once https://github.com/remix-run/react-router/pull/7586 is merged.\n */\nexport function HistoryRouter({\n    basename,\n    children,\n    history,\n}: HistoryRouterProps) {\n    const [state, setState] = useState({\n        action: history.action,\n        location: history.location,\n    });\n\n    useLayoutEffect(() => history.listen(setState), [history]);\n\n    return (\n        <Router\n            basename={basename}\n            children={children}\n            location={state.location}\n            navigationType={state.action}\n            navigator={history}\n        />\n    );\n}\n\nexport interface HistoryRouterProps {\n    basename?: string;\n    children?: React.ReactNode;\n    history: History;\n}\n"]},"metadata":{},"sourceType":"module"}