{"ast":null,"code":"import * as React from 'react';\nimport { useCallback } from 'react'; // allow the hook to work in SSR\n\nvar useLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n/**\n * Alternative to useCallback that doesn't update the callback when dependencies change\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\n\nexport var useEvent = function useEvent(fn) {\n  var ref = React.useRef(function () {\n    throw new Error('Cannot call an event handler while rendering.');\n  });\n  useLayoutEffect(function () {\n    ref.current = fn;\n  });\n  return useCallback(function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return ref.current.apply(ref, args);\n  }, []);\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,OAA5B,C,CAEA;;AACA,IAAMC,eAAe,GACjB,OAAOC,MAAP,KAAkB,WAAlB,GAAgCH,KAAK,CAACE,eAAtC,GAAwDF,KAAK,CAACI,SADlE;AAGA;;;;;;;AAMA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CACpBC,EADoB,EACS;EAE7B,IAAMC,GAAG,GAAGP,KAAK,CAACQ,MAAN,CAAwC;IAChD,MAAM,IAAIC,KAAJ,CAAU,+CAAV,CAAN;EACH,CAFW,CAAZ;EAIAP,eAAe,CAAC;IACZK,GAAG,CAACG,OAAJ,GAAcJ,EAAd;EACH,CAFc,CAAf;EAIA,OAAOL,WAAW,CAAC;IAAC;;SAAA,yCAAa;MAAbU;;;IAAkB,UAAG,CAACD,OAAJ,CAAWE,KAAX,MAAeD,IAAf;EAAoB,CAAxC,EAA0C,EAA1C,CAAlB;AACH,CAZM","names":["React","useCallback","useLayoutEffect","window","useEffect","useEvent","fn","ref","useRef","Error","current","args","apply"],"sources":["/var/www/a1boots/node_modules/ra-core/src/util/useEvent.ts"],"sourcesContent":["import * as React from 'react';\nimport { useCallback } from 'react';\n\n// allow the hook to work in SSR\nconst useLayoutEffect =\n    typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * Alternative to useCallback that doesn't update the callback when dependencies change\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-to-read-an-often-changing-value-from-usecallback\n * @see https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport const useEvent = <Args extends unknown[], Return>(\n    fn: (...args: Args) => Return\n): ((...args: Args) => Return) => {\n    const ref = React.useRef<(...args: Args) => Return>(() => {\n        throw new Error('Cannot call an event handler while rendering.');\n    });\n\n    useLayoutEffect(() => {\n        ref.current = fn;\n    });\n\n    return useCallback((...args: Args) => ref.current(...args), []);\n};\n"]},"metadata":{},"sourceType":"module"}