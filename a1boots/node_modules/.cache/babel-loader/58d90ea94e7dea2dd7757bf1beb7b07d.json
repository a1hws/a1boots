{"ast":null,"code":"import inflection from 'inflection';\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useTranslate } from '../i18n';\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useResourceDefinitions();\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {Object.keys(resources).map(name => (\n *                 <li key={name}>\n *                     {getResourceLabel(name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\n\nexport var useGetResourceLabel = function () {\n  var translate = useTranslate();\n  var definitions = useResourceDefinitions();\n  return function (resource, count) {\n    if (count === void 0) {\n      count = 2;\n    }\n\n    var resourceDefinition = definitions[resource];\n    var label = translate(\"resources.\".concat(resource, \".name\"), {\n      smart_count: count,\n      _: resourceDefinition && resourceDefinition.options && resourceDefinition.options.label ? translate(resourceDefinition.options.label, {\n        smart_count: count,\n        _: resourceDefinition.options.label\n      }) : inflection.humanize(count > 1 ? inflection.pluralize(resource) : inflection.singularize(resource))\n    });\n    return label;\n  };\n};","map":{"version":3,"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,SAASC,sBAAT,QAAuC,0BAAvC;AACA,SAASC,YAAT,QAA6B,SAA7B;AAEA;;;;;;;;;;;;;;;;;;;;;AAoBA,OAAO,IAAMC,mBAAmB,GAAG;EAC/B,IAAMC,SAAS,GAAGF,YAAY,EAA9B;EACA,IAAMG,WAAW,GAAGJ,sBAAsB,EAA1C;EAEA,OAAO,UAACK,QAAD,EAAmBC,KAAnB,EAA4B;IAAT;MAAAA;IAAS;;IAC/B,IAAMC,kBAAkB,GAAGH,WAAW,CAACC,QAAD,CAAtC;IAEA,IAAMG,KAAK,GAAGL,SAAS,CAAC,oBAAaE,QAAb,EAAqB,OAArB,CAAD,EAA+B;MAClDI,WAAW,EAAEH,KADqC;MAElDI,CAAC,EACGH,kBAAkB,IAClBA,kBAAkB,CAACI,OADnB,IAEAJ,kBAAkB,CAACI,OAAnB,CAA2BH,KAF3B,GAGML,SAAS,CAACI,kBAAkB,CAACI,OAAnB,CAA2BH,KAA5B,EAAmC;QACxCC,WAAW,EAAEH,KAD2B;QAExCI,CAAC,EAAEH,kBAAkB,CAACI,OAAnB,CAA2BH;MAFU,CAAnC,CAHf,GAOMT,UAAU,CAACa,QAAX,CACIN,KAAK,GAAG,CAAR,GACMP,UAAU,CAACc,SAAX,CAAqBR,QAArB,CADN,GAEMN,UAAU,CAACe,WAAX,CAAuBT,QAAvB,CAHV;IAVwC,CAA/B,CAAvB;IAiBA,OAAOG,KAAP;EACH,CArBD;AAsBH,CA1BM","names":["inflection","useResourceDefinitions","useTranslate","useGetResourceLabel","translate","definitions","resource","count","resourceDefinition","label","smart_count","_","options","humanize","pluralize","singularize"],"sources":["/var/www/a1boots/node_modules/ra-core/src/core/useGetResourceLabel.ts"],"sourcesContent":["import inflection from 'inflection';\n\nimport { useResourceDefinitions } from './useResourceDefinitions';\nimport { useTranslate } from '../i18n';\n\n/**\n * A hook which returns function to get a translated resource name. It will use the label option of the `Resource` component if it was provided.\n *\n * @returns {GetResourceLabel} A function which takes a resource name and an optional number indicating the number of items (used for pluralization) and returns a translated string.\n * @example\n * const Menu = () => {\n *     const resources = useResourceDefinitions();\n *     const getResourceLabel = useGetResourceLabel();\n *\n *     return (\n *         <ul>\n *             {Object.keys(resources).map(name => (\n *                 <li key={name}>\n *                     {getResourceLabel(name, 2)}\n *                 </li>\n *             ))}\n *         </ul>\n *     )\n * }\n */\nexport const useGetResourceLabel = (): GetResourceLabel => {\n    const translate = useTranslate();\n    const definitions = useResourceDefinitions();\n\n    return (resource: string, count = 2): string => {\n        const resourceDefinition = definitions[resource];\n\n        const label = translate(`resources.${resource}.name`, {\n            smart_count: count,\n            _:\n                resourceDefinition &&\n                resourceDefinition.options &&\n                resourceDefinition.options.label\n                    ? translate(resourceDefinition.options.label, {\n                          smart_count: count,\n                          _: resourceDefinition.options.label,\n                      })\n                    : inflection.humanize(\n                          count > 1\n                              ? inflection.pluralize(resource)\n                              : inflection.singularize(resource)\n                      ),\n        });\n\n        return label;\n    };\n};\n\nexport type GetResourceLabel = (resource: string, count?: number) => string;\n"]},"metadata":{},"sourceType":"module"}