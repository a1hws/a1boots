{"ast":null,"code":"import { useCallback } from 'react';\nimport useAuthProvider from './useAuthProvider';\n\nvar getPermissionsWithoutProvider = function getPermissionsWithoutProvider() {\n  return Promise.resolve([]);\n};\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\n\n\nvar useGetPermissions = function useGetPermissions() {\n  var authProvider = useAuthProvider();\n  var getPermissions = useCallback(function (params) {\n    if (params === void 0) {\n      params = {};\n    }\n\n    return authProvider.getPermissions(params);\n  }, [authProvider]);\n  return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\nexport default useGetPermissions;","map":{"version":3,"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,OAAOC,eAAP,MAA4B,mBAA5B;;AAEA,IAAMC,6BAA6B,GAAG,SAAhCA,6BAAgC;EAAM,cAAO,CAACC,OAAR,CAAgB,EAAhB;AAAmB,CAA/D;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;EACtB,IAAMC,YAAY,GAAGJ,eAAe,EAApC;EACA,IAAMK,cAAc,GAAGN,WAAW,CAC9B,UAACO,MAAD,EAAiB;IAAhB;MAAAA;IAAgB;;IAAK,mBAAY,CAACD,cAAb,CAA4BC,MAA5B;EAAmC,CAD3B,EAE9B,CAACF,YAAD,CAF8B,CAAlC;EAKA,OAAOA,YAAY,GAAGC,cAAH,GAAoBJ,6BAAvC;AACH,CARD;;AAmBA,eAAeE,iBAAf","names":["useCallback","useAuthProvider","getPermissionsWithoutProvider","resolve","useGetPermissions","authProvider","getPermissions","params"],"sources":["/var/www/a1boots/node_modules/ra-core/src/auth/useGetPermissions.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport useAuthProvider from './useAuthProvider';\n\nconst getPermissionsWithoutProvider = () => Promise.resolve([]);\n\n/**\n * Get a callback for calling the authProvider.getPermissions() method.\n *\n * @see useAuthProvider\n *\n * @returns {Function} getPermissions callback\n *\n * This is a low level hook. See those more specialized hooks\n * offering state handling.\n *\n * @see usePermissions\n *\n * @example\n *\n * import { useGetPermissions } from 'react-admin';\n *\n * const Roles = () => {\n *     const [permissions, setPermissions] = useState([]);\n *     const getPermissions = useGetPermissions();\n *     useEffect(() => {\n *         getPermissions().then(permissions => setPermissions(permissions))\n *     }, [])\n *     return (\n *         <ul>\n *             {permissions.map((permission, key) => (\n *                 <li key={key}>{permission}</li>\n *             ))}\n *         </ul>\n *     );\n * }\n */\nconst useGetPermissions = (): GetPermissions => {\n    const authProvider = useAuthProvider();\n    const getPermissions = useCallback(\n        (params: any = {}) => authProvider.getPermissions(params),\n        [authProvider]\n    );\n\n    return authProvider ? getPermissions : getPermissionsWithoutProvider;\n};\n\n/**\n * Proxy for calling authProvider.getPermissions()\n *\n * @param {Object} params The parameters to pass to the authProvider\n *\n * @return {Promise} The authProvider response\n */\ntype GetPermissions = (params?: any) => Promise<any>;\n\nexport default useGetPermissions;\n"]},"metadata":{},"sourceType":"module"}