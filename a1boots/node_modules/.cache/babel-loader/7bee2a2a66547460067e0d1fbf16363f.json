{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\nimport { NotificationContext } from './NotificationContext';\nimport { AddNotificationContext } from './AddNotificationContext';\nexport var NotificationContextProvider = function NotificationContextProvider(_a) {\n  var children = _a.children;\n\n  var _b = useState([]),\n      notifications = _b[0],\n      setNotifications = _b[1];\n\n  var addNotification = useCallback(function (notification) {\n    setNotifications(function (notifications) {\n      return __spreadArray(__spreadArray([], notifications, true), [notification], false);\n    });\n  }, []);\n  var takeNotification = useCallback(function () {\n    var notification = notifications[0],\n        rest = notifications.slice(1);\n    setNotifications(rest);\n    return notification;\n  }, [notifications]);\n  var resetNotifications = useCallback(function () {\n    setNotifications([]);\n  }, []);\n  var contextValue = useMemo(function () {\n    return {\n      notifications: notifications,\n      addNotification: addNotification,\n      takeNotification: takeNotification,\n      resetNotifications: resetNotifications,\n      setNotifications: setNotifications\n    };\n  }, [notifications] // eslint-disable-line react-hooks/exhaustive-deps\n  ); // we separate the addNotification context to avoid rerendering all components\n  // that depend on useNotify when a notification is dispatched\n\n  return React.createElement(NotificationContext.Provider, {\n    value: contextValue\n  }, React.createElement(AddNotificationContext.Provider, {\n    value: addNotification\n  }, children));\n};","map":{"version":3,"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,OAAhC,QAA+C,OAA/C;AAGA,SAASC,mBAAT,QAAoC,uBAApC;AACA,SAASC,sBAAT,QAAuC,0BAAvC;AAEA,OAAO,IAAMC,2BAA2B,GAAG,SAA9BA,2BAA8B,CAACC,EAAD,EAAa;MAAVC,QAAQ;;EAC5C,SAAoCP,QAAQ,CAC9C,EAD8C,CAA5C;EAAA,IAACQ,aAAa,QAAd;EAAA,IAAgBC,gBAAgB,QAAhC;;EAIN,IAAMC,eAAe,GAAGT,WAAW,CAAC,UAACU,YAAD,EAAkC;IAClEF,gBAAgB,CAAC,yBAAa;MAAI,uCAAID,aAAJ,EAAiB,IAAjB,GAAiB,CAAEG,YAAF,CAAjB,EAA+B,KAA/B;IAAgC,CAAlD,CAAhB;EACH,CAFkC,EAEhC,EAFgC,CAAnC;EAIA,IAAMC,gBAAgB,GAAGX,WAAW,CAAC;IAC1B,gBAAY,GAAaO,aAAa,GAAtC;IAAA,IAAiBK,IAAI,GAAIL,aAAa,MAAb,CAAa,CAAb,CAAzB;IACPC,gBAAgB,CAACI,IAAD,CAAhB;IACA,OAAOF,YAAP;EACH,CAJmC,EAIjC,CAACH,aAAD,CAJiC,CAApC;EAMA,IAAMM,kBAAkB,GAAGb,WAAW,CAAC;IACnCQ,gBAAgB,CAAC,EAAD,CAAhB;EACH,CAFqC,EAEnC,EAFmC,CAAtC;EAIA,IAAMM,YAAY,GAAGb,OAAO,CACxB;IAAM,OAAC;MACHM,aAAa,eADV;MAEHE,eAAe,iBAFZ;MAGHE,gBAAgB,kBAHb;MAIHE,kBAAkB,oBAJf;MAKHL,gBAAgB;IALb,CAAD;EAMJ,CAPsB,EAQxB,CAACD,aAAD,CARwB,CAQR;EARQ,CAA5B,CAnBoD,CA8BpD;EACA;;EACA,OACIT,oBAACI,mBAAmB,CAACa,QAArB,EAA6B;IAACC,KAAK,EAAEF;EAAR,CAA7B,EACIhB,oBAACK,sBAAsB,CAACY,QAAxB,EAAgC;IAACC,KAAK,EAAEP;EAAR,CAAhC,EACKH,QADL,CADJ,CADJ;AAOH,CAvCM","names":["React","useState","useCallback","useMemo","NotificationContext","AddNotificationContext","NotificationContextProvider","_a","children","notifications","setNotifications","addNotification","notification","takeNotification","rest","resetNotifications","contextValue","Provider","value"],"sources":["/var/www/a1boots/node_modules/ra-core/src/notification/NotificationContextProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useState, useCallback, useMemo } from 'react';\n\nimport { NotificationPayload } from './types';\nimport { NotificationContext } from './NotificationContext';\nimport { AddNotificationContext } from './AddNotificationContext';\n\nexport const NotificationContextProvider = ({ children }) => {\n    const [notifications, setNotifications] = useState<NotificationPayload[]>(\n        []\n    );\n\n    const addNotification = useCallback((notification: NotificationPayload) => {\n        setNotifications(notifications => [...notifications, notification]);\n    }, []);\n\n    const takeNotification = useCallback(() => {\n        const [notification, ...rest] = notifications;\n        setNotifications(rest);\n        return notification;\n    }, [notifications]);\n\n    const resetNotifications = useCallback(() => {\n        setNotifications([]);\n    }, []);\n\n    const contextValue = useMemo(\n        () => ({\n            notifications,\n            addNotification,\n            takeNotification,\n            resetNotifications,\n            setNotifications,\n        }),\n        [notifications] // eslint-disable-line react-hooks/exhaustive-deps\n    );\n\n    // we separate the addNotification context to avoid rerendering all components\n    // that depend on useNotify when a notification is dispatched\n    return (\n        <NotificationContext.Provider value={contextValue}>\n            <AddNotificationContext.Provider value={addNotification}>\n                {children}\n            </AddNotificationContext.Provider>\n        </NotificationContext.Provider>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}