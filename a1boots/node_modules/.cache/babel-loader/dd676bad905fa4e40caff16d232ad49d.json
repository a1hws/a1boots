{"ast":null,"code":"import { useEffect } from 'react';\nimport { useSaveContext } from './useSaveContext';\n/**\n * Internal hook that registers a middleware for the save function in the current SaveContext.\n * @param callback The middleware function.\n */\n\nexport var useRegisterMutationMiddleware = function useRegisterMutationMiddleware(callback) {\n  var _a = useSaveContext(),\n      registerMutationMiddleware = _a.registerMutationMiddleware,\n      unregisterMutationMiddleware = _a.unregisterMutationMiddleware;\n\n  useEffect(function () {\n    registerMutationMiddleware(callback);\n    return function () {\n      unregisterMutationMiddleware(callback);\n    };\n  }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);\n};","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AAEA,SAASC,cAAT,QAA+B,kBAA/B;AAEA;;;;;AAIA,OAAO,IAAMC,6BAA6B,GAAG,SAAhCA,6BAAgC,CAGzCC,QAHyC,EAGT;EAE1B,SAGFF,cAAc,EAHZ;EAAA,IACFG,0BAA0B,gCADxB;EAAA,IAEFC,4BAA4B,kCAF1B;;EAKNL,SAAS,CAAC;IACNI,0BAA0B,CAACD,QAAD,CAA1B;IACA,OAAO;MACHE,4BAA4B,CAACF,QAAD,CAA5B;IACH,CAFD;EAGH,CALQ,EAKN,CAACA,QAAD,EAAWC,0BAAX,EAAuCC,4BAAvC,CALM,CAAT;AAMH,CAhBM","names":["useEffect","useSaveContext","useRegisterMutationMiddleware","callback","registerMutationMiddleware","unregisterMutationMiddleware"],"sources":["/var/www/a1boots/node_modules/ra-core/src/controller/saveContext/useRegisterMutationMiddleware.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport { Middleware } from './useMutationMiddlewares';\nimport { useSaveContext } from './useSaveContext';\n\n/**\n * Internal hook that registers a middleware for the save function in the current SaveContext.\n * @param callback The middleware function.\n */\nexport const useRegisterMutationMiddleware = <\n    MutateFunc extends (...args: any[]) => any = (...args: any[]) => any\n>(\n    callback: Middleware<MutateFunc>\n) => {\n    const {\n        registerMutationMiddleware,\n        unregisterMutationMiddleware,\n    } = useSaveContext();\n\n    useEffect(() => {\n        registerMutationMiddleware(callback);\n        return () => {\n            unregisterMutationMiddleware(callback);\n        };\n    }, [callback, registerMutationMiddleware, unregisterMutationMiddleware]);\n};\n"]},"metadata":{},"sourceType":"module"}