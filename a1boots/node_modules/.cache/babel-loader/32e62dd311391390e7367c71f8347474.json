{"ast":null,"code":"import * as React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport { useStore, usePreferencesEditor, useTranslate, useRemoveItemsFromStore, PreferenceKeyContextProvider } from 'ra-core';\nimport { Paper, Typography, IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/CancelOutlined';\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\nimport { useTheme, styled } from '@mui/material/styles';\nimport { InspectorRoot } from './InspectorRoot';\nexport var Inspector = function () {\n  var _a = usePreferencesEditor(),\n      isEnabled = _a.isEnabled,\n      disable = _a.disable,\n      title = _a.title,\n      titleOptions = _a.titleOptions,\n      editor = _a.editor,\n      preferenceKey = _a.preferenceKey;\n\n  var isDragging = useRef(false);\n  var removeItems = useRemoveItemsFromStore(preferenceKey);\n  var theme = useTheme();\n  var translate = useTranslate();\n\n  var _b = useState(0),\n      version = _b[0],\n      setVersion = _b[1];\n\n  var _c = useStore('ra.inspector.position', {\n    x: // We want it positioned to the far right of the screen\n    (document === null || document === void 0 ? void 0 : document.body.clientWidth) - // So we remove its size (see the root css class)\n    theme.breakpoints.values.sm / 2 - // And add a margin\n    8,\n    y: 8\n  }),\n      dialogPosition = _c[0],\n      setDialogPosition = _c[1]; // poor man's drag and drop\n  // store click position relative to the dialog position\n\n\n  var _d = useState(),\n      clickPosition = _d[0],\n      setClickPosition = _d[1];\n\n  var handleDragStart = function (e) {\n    // exit if the user drags on anything but the title\n    var draggedElement = document === null || document === void 0 ? void 0 : document.elementFromPoint(e.clientX, e.clientY);\n\n    if (draggedElement.id !== 'inspector-dialog-title') {\n      return;\n    }\n\n    isDragging.current = true;\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('inspector', '');\n    setTimeout(function () {\n      e.target.classList.add('hide');\n    }, 0);\n    setClickPosition({\n      x: e.clientX - dialogPosition.x,\n      y: e.clientY - dialogPosition.y\n    });\n  };\n\n  var handleDragEnd = function (e) {\n    if (isDragging.current) {\n      setDialogPosition({\n        x: e.clientX - clickPosition.x,\n        y: e.clientY - clickPosition.y\n      });\n      e.target.classList.remove('hide');\n      isDragging.current = false;\n    }\n  }; // prevent \"back to base\" animation when the inspector is dropped\n\n\n  useEffect(function () {\n    if (!isEnabled) return;\n\n    var handleDragover = function (e) {\n      if (e.dataTransfer.types.includes('inspector')) {\n        e.preventDefault();\n      }\n    };\n\n    document === null || document === void 0 ? void 0 : document.addEventListener('dragover', handleDragover);\n    return function () {\n      document === null || document === void 0 ? void 0 : document.removeEventListener('dragover', handleDragover);\n    };\n  }, [isEnabled]); // make sure that the dialog is always visible, as the stored position may be outside the screen\n\n  useEffect(function () {\n    if (!isEnabled) return;\n\n    var moveInspectorIfOutsideScreen = function () {\n      window === null || window === void 0 ? void 0 : window.requestAnimationFrame(function () {\n        setDialogPosition(function (position) {\n          return {\n            x: Math.min(position.x, (document === null || document === void 0 ? void 0 : document.body.clientWidth) - theme.breakpoints.values.sm / 2 - 8),\n            y: Math.min(position.y, (window === null || window === void 0 ? void 0 : window.innerHeight) - 50)\n          };\n        });\n      });\n    };\n\n    moveInspectorIfOutsideScreen();\n    window === null || window === void 0 ? void 0 : window.addEventListener('resize', moveInspectorIfOutsideScreen);\n    return function () {\n      window === null || window === void 0 ? void 0 : window.removeEventListener('resize', moveInspectorIfOutsideScreen);\n    };\n  }, [isEnabled, setDialogPosition, theme.breakpoints.values.sm]);\n\n  var handleReset = function () {\n    removeItems(); // force redraw of the form to use the default values\n\n    setVersion(function (version) {\n      return version + 1;\n    });\n  };\n\n  if (!isEnabled) return null;\n  return React.createElement(StyledPaper, {\n    className: InspectorClasses.modal,\n    elevation: 3,\n    draggable: true,\n    onDragStart: handleDragStart,\n    onDragEnd: handleDragEnd,\n    sx: {\n      left: dialogPosition.x,\n      top: dialogPosition.y\n    }\n  }, React.createElement(\"div\", {\n    className: InspectorClasses.title\n  }, React.createElement(Typography, {\n    id: \"inspector-dialog-title\",\n    variant: \"overline\",\n    component: \"div\",\n    py: 1,\n    px: 2,\n    flex: \"1\"\n  }, title && translate(title, titleOptions)), React.createElement(\"span\", {\n    id: \"inspector-toolbar\"\n  }), preferenceKey && React.createElement(IconButton, {\n    \"aria-label\": translate('ra.action.remove'),\n    onClick: handleReset,\n    size: \"small\"\n  }, React.createElement(DeleteIcon, {\n    fontSize: \"inherit\"\n  })), React.createElement(IconButton, {\n    \"aria-label\": translate('ra.action.close'),\n    onClick: disable,\n    size: \"small\",\n    sx: {\n      mr: 1\n    }\n  }, React.createElement(CloseIcon, {\n    fontSize: \"inherit\"\n  }))), React.createElement(\"div\", {\n    className: InspectorClasses.content,\n    key: version\n  }, React.createElement(PreferenceKeyContextProvider, {\n    value: preferenceKey\n  }, editor || React.createElement(InspectorRoot, null))));\n};\nvar PREFIX = 'RaInspector';\nexport var InspectorClasses = {\n  modal: \"\".concat(PREFIX, \"-modal\"),\n  title: \"\".concat(PREFIX, \"-title\"),\n  content: \"\".concat(PREFIX, \"-content\")\n};\nvar StyledPaper = styled(Paper, {\n  name: PREFIX,\n  overridesResolver: function (props, styles) {\n    return styles.root;\n  }\n})(function (_a) {\n  var _b;\n\n  var theme = _a.theme;\n  return _b = {\n    position: 'fixed',\n    zIndex: theme.zIndex.modal + 1,\n    width: theme.breakpoints.values.sm / 2,\n    transition: theme.transitions.create(['height', 'width']),\n    '&.hide': {\n      display: 'none'\n    }\n  }, _b[\"& .\".concat(InspectorClasses.title)] = {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    cursor: 'move'\n  }, _b[\"& .\".concat(InspectorClasses.content)] = {\n    overflowY: 'auto',\n    maxHeight: '75vh',\n    padding: theme.spacing(2),\n    paddingTop: 0\n  }, _b;\n});\nInspector.displayName = 'Inspector';","map":{"version":3,"mappings":"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","names":["React","useState","useEffect","useRef","useStore","usePreferencesEditor","useTranslate","useRemoveItemsFromStore","PreferenceKeyContextProvider","Paper","Typography","IconButton","CloseIcon","DeleteIcon","useTheme","styled","InspectorRoot","Inspector","isEnabled","disable","title","titleOptions","editor","preferenceKey","isDragging","removeItems","theme","translate","version","setVersion","x","body","clientWidth","breakpoints","values","sm","y","dialogPosition","setDialogPosition","clickPosition","setClickPosition","handleDragStart","draggedElement","document","elementFromPoint","e","clientX","clientY","id","current","dataTransfer","effectAllowed","setData","setTimeout","target","classList","add","handleDragEnd","remove","handleDragover","types","includes","preventDefault","addEventListener","removeEventListener","moveInspectorIfOutsideScreen","window","requestAnimationFrame","Math","min","position","innerHeight","handleReset","StyledPaper","className","InspectorClasses","modal","elevation","draggable","onDragStart","onDragEnd","sx","left","top","variant","component","py","px","flex","onClick","size","fontSize","mr","content","key","value","PREFIX","name","overridesResolver","props","styles","root","_a","zIndex","width","transition","transitions","create","display","_b","justifyContent","alignItems","cursor","overflowY","maxHeight","padding","spacing","paddingTop","displayName"],"sources":["/var/www/a1boots/node_modules/ra-ui-materialui/src/preferences/Inspector.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useState, useEffect, useRef } from 'react';\nimport {\n    useStore,\n    usePreferencesEditor,\n    useTranslate,\n    useRemoveItemsFromStore,\n    PreferenceKeyContextProvider,\n} from 'ra-core';\nimport { Paper, Typography, IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/CancelOutlined';\nimport DeleteIcon from '@mui/icons-material/DeleteOutline';\nimport { useTheme, styled } from '@mui/material/styles';\n\nimport { InspectorRoot } from './InspectorRoot';\n\nexport const Inspector = () => {\n    const {\n        isEnabled,\n        disable,\n        title,\n        titleOptions,\n        editor,\n        preferenceKey,\n    } = usePreferencesEditor();\n\n    const isDragging = useRef(false);\n    const removeItems = useRemoveItemsFromStore(preferenceKey);\n    const theme = useTheme();\n    const translate = useTranslate();\n    const [version, setVersion] = useState(0);\n\n    const [dialogPosition, setDialogPosition] = useStore(\n        'ra.inspector.position',\n        {\n            x:\n                // We want it positioned to the far right of the screen\n                document?.body.clientWidth -\n                // So we remove its size (see the root css class)\n                theme.breakpoints.values.sm / 2 -\n                // And add a margin\n                8,\n            y: 8,\n        }\n    );\n\n    // poor man's drag and drop\n    // store click position relative to the dialog position\n    const [clickPosition, setClickPosition] = useState<\n        { x: number; y: number } | undefined\n    >();\n    const handleDragStart = e => {\n        // exit if the user drags on anything but the title\n        const draggedElement = document?.elementFromPoint(e.clientX, e.clientY);\n        if (draggedElement.id !== 'inspector-dialog-title') {\n            return;\n        }\n        isDragging.current = true;\n        e.dataTransfer.effectAllowed = 'move';\n        e.dataTransfer.setData('inspector', '');\n        setTimeout(() => {\n            e.target.classList.add('hide');\n        }, 0);\n        setClickPosition({\n            x: e.clientX - dialogPosition.x,\n            y: e.clientY - dialogPosition.y,\n        });\n    };\n    const handleDragEnd = e => {\n        if (isDragging.current) {\n            setDialogPosition({\n                x: e.clientX - clickPosition.x,\n                y: e.clientY - clickPosition.y,\n            });\n            e.target.classList.remove('hide');\n            isDragging.current = false;\n        }\n    };\n\n    // prevent \"back to base\" animation when the inspector is dropped\n    useEffect(() => {\n        if (!isEnabled) return;\n        const handleDragover = e => {\n            if (e.dataTransfer.types.includes('inspector')) {\n                e.preventDefault();\n            }\n        };\n        document?.addEventListener('dragover', handleDragover);\n        return () => {\n            document?.removeEventListener('dragover', handleDragover);\n        };\n    }, [isEnabled]);\n\n    // make sure that the dialog is always visible, as the stored position may be outside the screen\n    useEffect(() => {\n        if (!isEnabled) return;\n        const moveInspectorIfOutsideScreen = () => {\n            window?.requestAnimationFrame(() => {\n                setDialogPosition(position => ({\n                    x: Math.min(\n                        position.x,\n                        document?.body.clientWidth -\n                            theme.breakpoints.values.sm / 2 -\n                            8\n                    ),\n                    y: Math.min(position.y, window?.innerHeight - 50),\n                }));\n            });\n        };\n        moveInspectorIfOutsideScreen();\n        window?.addEventListener('resize', moveInspectorIfOutsideScreen);\n        return () => {\n            window?.removeEventListener('resize', moveInspectorIfOutsideScreen);\n        };\n    }, [isEnabled, setDialogPosition, theme.breakpoints.values.sm]);\n\n    const handleReset = () => {\n        removeItems();\n        // force redraw of the form to use the default values\n        setVersion(version => version + 1);\n    };\n\n    if (!isEnabled) return null;\n    return (\n        <StyledPaper\n            className={InspectorClasses.modal}\n            elevation={3}\n            draggable\n            onDragStart={handleDragStart}\n            onDragEnd={handleDragEnd}\n            sx={{ left: dialogPosition.x, top: dialogPosition.y }}\n        >\n            <div className={InspectorClasses.title}>\n                <Typography\n                    id=\"inspector-dialog-title\"\n                    variant=\"overline\"\n                    component=\"div\"\n                    py={1}\n                    px={2}\n                    flex=\"1\"\n                >\n                    {title && translate(title, titleOptions)}\n                </Typography>\n                <span id=\"inspector-toolbar\" />\n                {preferenceKey && (\n                    <IconButton\n                        aria-label={translate('ra.action.remove')}\n                        onClick={handleReset}\n                        size=\"small\"\n                    >\n                        <DeleteIcon fontSize=\"inherit\" />\n                    </IconButton>\n                )}\n                <IconButton\n                    aria-label={translate('ra.action.close')}\n                    onClick={disable}\n                    size=\"small\"\n                    sx={{ mr: 1 }}\n                >\n                    <CloseIcon fontSize=\"inherit\" />\n                </IconButton>\n            </div>\n            <div className={InspectorClasses.content} key={version}>\n                <PreferenceKeyContextProvider value={preferenceKey}>\n                    {editor || <InspectorRoot />}\n                </PreferenceKeyContextProvider>\n            </div>\n        </StyledPaper>\n    );\n};\n\nconst PREFIX = 'RaInspector';\n\nexport const InspectorClasses = {\n    modal: `${PREFIX}-modal`,\n    title: `${PREFIX}-title`,\n    content: `${PREFIX}-content`,\n};\n\nconst StyledPaper = styled(Paper, {\n    name: PREFIX,\n    overridesResolver: (props, styles) => styles.root,\n})(({ theme }) => ({\n    position: 'fixed',\n    zIndex: theme.zIndex.modal + 1,\n    width: theme.breakpoints.values.sm / 2,\n    transition: theme.transitions.create(['height', 'width']),\n    '&.hide': {\n        display: 'none',\n    },\n    [`& .${InspectorClasses.title}`]: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        cursor: 'move',\n    },\n    [`& .${InspectorClasses.content}`]: {\n        overflowY: 'auto',\n        maxHeight: '75vh',\n        padding: theme.spacing(2),\n        paddingTop: 0,\n    },\n}));\n\nInspector.displayName = 'Inspector';\n"]},"metadata":{},"sourceType":"module"}