{"ast":null,"code":"import _taggedTemplateLiteral from\"/var/www/a1boots/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import{Box,Button,Divider,IconButton,Typography}from\"@mui/material\";import{useSelector,useDispatch}from\"react-redux\";import CloseIcon from\"@mui/icons-material/Close\";import AddIcon from\"@mui/icons-material/Add\";import RemoveIcon from\"@mui/icons-material/Remove\";import styled from\"@emotion/styled\";import{shades}from\"../../theme\";import{decreaseCount,increaseCount,removeFromCart,setIsCartOpen}from\"../../state\";import{useNavigate}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var FlexBox=styled(Box)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));var CartMenu=function CartMenu(){var navigate=useNavigate();var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart.cart;});var isCartOpen=useSelector(function(state){return state.cart.isCartOpen;});var totalPrice=cart.reduce(function(total,item){return total+item.count*item.attributes.price;},0);return/*#__PURE__*/_jsx(Box,{display:isCartOpen?\"block\":\"none\",backgroundColor:\"rgba(0, 0, 0, 0.4)\",position:\"fixed\",zIndex:10,width:\"100%\",height:\"100%\",left:\"0\",top:\"0\",overflow:\"auto\",children:/*#__PURE__*/_jsx(Box,{position:\"fixed\",right:\"0\",bottom:\"0\",width:\"max(400px, 30%)\",height:\"100%\",backgroundColor:\"white\",children:/*#__PURE__*/_jsxs(Box,{padding:\"30px\",overflow:\"auto\",height:\"100%\",children:[/*#__PURE__*/_jsxs(FlexBox,{mb:\"15px\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h3\",children:[\"SHOPPING BAG (\",cart.length,\")\"]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(setIsCartOpen({}));},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Box,{children:cart.map(function(item){var _item$attributes,_item$attributes$imag,_item$attributes$imag2,_item$attributes$imag3,_item$attributes$imag4,_item$attributes$imag5;return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(FlexBox,{p:\"15px 0\",children:[/*#__PURE__*/_jsx(Box,{flex:\"1 1 40%\",children:/*#__PURE__*/_jsx(\"img\",{alt:item===null||item===void 0?void 0:item.name,width:\"123px\",height:\"164px\",src:\"http://localhost:1337\".concat(item===null||item===void 0?void 0:(_item$attributes=item.attributes)===null||_item$attributes===void 0?void 0:(_item$attributes$imag=_item$attributes.image)===null||_item$attributes$imag===void 0?void 0:(_item$attributes$imag2=_item$attributes$imag.data)===null||_item$attributes$imag2===void 0?void 0:(_item$attributes$imag3=_item$attributes$imag2.attributes)===null||_item$attributes$imag3===void 0?void 0:(_item$attributes$imag4=_item$attributes$imag3.formats)===null||_item$attributes$imag4===void 0?void 0:(_item$attributes$imag5=_item$attributes$imag4.thumbnail)===null||_item$attributes$imag5===void 0?void 0:_item$attributes$imag5.url)})}),/*#__PURE__*/_jsxs(Box,{flex:\"1 1 60%\",children:[/*#__PURE__*/_jsxs(FlexBox,{mb:\"5px\",children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",children:item.attributes.name}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(removeFromCart({id:item.id}));},children:/*#__PURE__*/_jsx(CloseIcon,{})})]}),/*#__PURE__*/_jsx(Typography,{children:item.attributes.shortDescription}),/*#__PURE__*/_jsxs(FlexBox,{m:\"15px 0\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",border:\"1.5px solid \".concat(shades.neutral[500]),children:[/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(decreaseCount({id:item.id}));},children:/*#__PURE__*/_jsx(RemoveIcon,{})}),/*#__PURE__*/_jsx(Typography,{children:item.count}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return dispatch(increaseCount({id:item.id}));},children:/*#__PURE__*/_jsx(AddIcon,{})})]}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",children:[\"$\",item.attributes.price]})]})]})]}),/*#__PURE__*/_jsx(Divider,{})]},\"\".concat(item.attributes.name,\"-\").concat(item.id));})}),/*#__PURE__*/_jsxs(Box,{m:\"20px 0\",children:[/*#__PURE__*/_jsxs(FlexBox,{m:\"20px 0\",children:[/*#__PURE__*/_jsx(Typography,{fontWeight:\"bold\",children:\"SUBTOTAL\"}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",children:[\"$\",totalPrice]})]}),/*#__PURE__*/_jsx(Button,{sx:{backgroundColor:shades.primary[400],color:\"white\",borderRadius:0,minWidth:\"100%\",padding:\"20px 40px\",m:\"20px 0\"},onClick:function onClick(){navigate(\"/checkout\");dispatch(setIsCartOpen({}));},children:\"CHECKOUT\"})]})]})})});};export default CartMenu;","map":{"version":3,"names":["Box","Button","Divider","IconButton","Typography","useSelector","useDispatch","CloseIcon","AddIcon","RemoveIcon","styled","shades","decreaseCount","increaseCount","removeFromCart","setIsCartOpen","useNavigate","FlexBox","CartMenu","navigate","dispatch","cart","state","isCartOpen","totalPrice","reduce","total","item","count","attributes","price","length","map","name","image","data","formats","thumbnail","url","id","shortDescription","neutral","backgroundColor","primary","color","borderRadius","minWidth","padding","m"],"sources":["/var/www/a1boots/src/scenes/global/CartMenu.jsx"],"sourcesContent":["import { Box, Button, Divider, IconButton, Typography } from \"@mui/material\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport RemoveIcon from \"@mui/icons-material/Remove\";\nimport styled from \"@emotion/styled\";\nimport { shades } from \"../../theme\";\nimport {\n  decreaseCount,\n  increaseCount,\n  removeFromCart,\n  setIsCartOpen,\n} from \"../../state\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst FlexBox = styled(Box)`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nconst CartMenu = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const cart = useSelector((state) => state.cart.cart);\n  const isCartOpen = useSelector((state) => state.cart.isCartOpen);\n\n  const totalPrice = cart.reduce((total, item) => {\n    return total + item.count * item.attributes.price;\n  }, 0);\n\n  return (\n    <Box\n      display={isCartOpen ? \"block\" : \"none\"}\n      backgroundColor=\"rgba(0, 0, 0, 0.4)\"\n      position=\"fixed\"\n      zIndex={10}\n      width=\"100%\"\n      height=\"100%\"\n      left=\"0\"\n      top=\"0\"\n      overflow=\"auto\"\n    >\n      <Box\n        position=\"fixed\"\n        right=\"0\"\n        bottom=\"0\"\n        width=\"max(400px, 30%)\"\n        height=\"100%\"\n        backgroundColor=\"white\"\n      >\n        <Box padding=\"30px\" overflow=\"auto\" height=\"100%\">\n          {/* HEADER */}\n          <FlexBox mb=\"15px\">\n            <Typography variant=\"h3\">SHOPPING BAG ({cart.length})</Typography>\n            <IconButton onClick={() => dispatch(setIsCartOpen({}))}>\n              <CloseIcon />\n            </IconButton>\n          </FlexBox>\n\n          {/* CART LIST */}\n          <Box>\n            {cart.map((item) => (\n              <Box key={`${item.attributes.name}-${item.id}`}>\n                <FlexBox p=\"15px 0\">\n                  <Box flex=\"1 1 40%\">\n                    <img\n                      alt={item?.name}\n                      width=\"123px\"\n                      height=\"164px\"\n                      src={`http://localhost:1337${item?.attributes?.image?.data?.attributes?.formats?.thumbnail?.url}`}\n                    />\n                  </Box>\n                  <Box flex=\"1 1 60%\">\n                    <FlexBox mb=\"5px\">\n                      <Typography fontWeight=\"bold\">\n                        {item.attributes.name}\n                      </Typography>\n                      <IconButton\n                        onClick={() =>\n                          dispatch(removeFromCart({ id: item.id }))\n                        }\n                      >\n                        <CloseIcon />\n                      </IconButton>\n                    </FlexBox>\n                    <Typography>{item.attributes.shortDescription}</Typography>\n                    <FlexBox m=\"15px 0\">\n                      <Box\n                        display=\"flex\"\n                        alignItems=\"center\"\n                        border={`1.5px solid ${shades.neutral[500]}`}\n                      >\n                        <IconButton\n                          onClick={() =>\n                            dispatch(decreaseCount({ id: item.id }))\n                          }\n                        >\n                          <RemoveIcon />\n                        </IconButton>\n                        <Typography>{item.count}</Typography>\n                        <IconButton\n                          onClick={() =>\n                            dispatch(increaseCount({ id: item.id }))\n                          }\n                        >\n                          <AddIcon />\n                        </IconButton>\n                      </Box>\n                      <Typography fontWeight=\"bold\">\n                        ${item.attributes.price}\n                      </Typography>\n                    </FlexBox>\n                  </Box>\n                </FlexBox>\n                <Divider />\n              </Box>\n            ))}\n          </Box>\n\n          {/* ACTIONS */}\n          <Box m=\"20px 0\">\n            <FlexBox m=\"20px 0\">\n              <Typography fontWeight=\"bold\">SUBTOTAL</Typography>\n              <Typography fontWeight=\"bold\">${totalPrice}</Typography>\n            </FlexBox>\n            <Button\n              sx={{\n                backgroundColor: shades.primary[400],\n                color: \"white\",\n                borderRadius: 0,\n                minWidth: \"100%\",\n                padding: \"20px 40px\",\n                m: \"20px 0\",\n              }}\n              onClick={() => {\n                navigate(\"/checkout\");\n                dispatch(setIsCartOpen({}));\n              }}\n            >\n              CHECKOUT\n            </Button>\n          </Box>\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nexport default CartMenu;\n"],"mappings":"0IAAA,OAASA,GAAT,CAAcC,MAAd,CAAsBC,OAAtB,CAA+BC,UAA/B,CAA2CC,UAA3C,KAA6D,eAA7D,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,UAAP,KAAsB,2BAAtB,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,MAAOC,WAAP,KAAuB,4BAAvB,CACA,MAAOC,OAAP,KAAmB,iBAAnB,CACA,OAASC,MAAT,KAAuB,aAAvB,CACA,OACEC,aADF,CAEEC,aAFF,CAGEC,cAHF,CAIEC,aAJF,KAKO,aALP,CAMA,OAASC,WAAT,KAA4B,kBAA5B,C,wFAEA,GAAMC,QAAO,CAAGP,MAAM,CAACV,GAAD,CAAT,gJAAb,CAMA,GAAMkB,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,GAAMC,SAAQ,CAAGH,WAAW,EAA5B,CACA,GAAMI,SAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,KAAI,CAAGhB,WAAW,CAAC,SAACiB,KAAD,QAAWA,MAAK,CAACD,IAAN,CAAWA,IAAtB,EAAD,CAAxB,CACA,GAAME,WAAU,CAAGlB,WAAW,CAAC,SAACiB,KAAD,QAAWA,MAAK,CAACD,IAAN,CAAWE,UAAtB,EAAD,CAA9B,CAEA,GAAMC,WAAU,CAAGH,IAAI,CAACI,MAAL,CAAY,SAACC,KAAD,CAAQC,IAAR,CAAiB,CAC9C,MAAOD,MAAK,CAAGC,IAAI,CAACC,KAAL,CAAaD,IAAI,CAACE,UAAL,CAAgBC,KAA5C,CACD,CAFkB,CAEhB,CAFgB,CAAnB,CAIA,mBACE,KAAC,GAAD,EACE,OAAO,CAAEP,UAAU,CAAG,OAAH,CAAa,MADlC,CAEE,eAAe,CAAC,oBAFlB,CAGE,QAAQ,CAAC,OAHX,CAIE,MAAM,CAAE,EAJV,CAKE,KAAK,CAAC,MALR,CAME,MAAM,CAAC,MANT,CAOE,IAAI,CAAC,GAPP,CAQE,GAAG,CAAC,GARN,CASE,QAAQ,CAAC,MATX,uBAWE,KAAC,GAAD,EACE,QAAQ,CAAC,OADX,CAEE,KAAK,CAAC,GAFR,CAGE,MAAM,CAAC,GAHT,CAIE,KAAK,CAAC,iBAJR,CAKE,MAAM,CAAC,MALT,CAME,eAAe,CAAC,OANlB,uBAQE,MAAC,GAAD,EAAK,OAAO,CAAC,MAAb,CAAoB,QAAQ,CAAC,MAA7B,CAAoC,MAAM,CAAC,MAA3C,wBAEE,MAAC,OAAD,EAAS,EAAE,CAAC,MAAZ,wBACE,MAAC,UAAD,EAAY,OAAO,CAAC,IAApB,WAAyB,gBAAzB,CAAwCF,IAAI,CAACU,MAA7C,CAAoD,GAApD,GADF,cAEE,KAAC,UAAD,EAAY,OAAO,CAAE,yBAAMX,SAAQ,CAACL,aAAa,CAAC,EAAD,CAAd,CAAd,EAArB,uBACE,KAAC,SAAD,IADF,EAFF,GAFF,cAUE,KAAC,GAAD,WACGM,IAAI,CAACW,GAAL,CAAS,SAACL,IAAD,4JACR,MAAC,GAAD,yBACE,MAAC,OAAD,EAAS,CAAC,CAAC,QAAX,wBACE,KAAC,GAAD,EAAK,IAAI,CAAC,SAAV,uBACE,YACE,GAAG,CAAEA,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,IADb,CAEE,KAAK,CAAC,OAFR,CAGE,MAAM,CAAC,OAHT,CAIE,GAAG,gCAA0BN,IAA1B,SAA0BA,IAA1B,mCAA0BA,IAAI,CAAEE,UAAhC,kEAA0B,iBAAkBK,KAA5C,wEAA0B,sBAAyBC,IAAnD,yEAA0B,uBAA+BN,UAAzD,yEAA0B,uBAA2CO,OAArE,yEAA0B,uBAAoDC,SAA9E,iDAA0B,uBAA+DC,GAAzF,CAJL,EADF,EADF,cASE,MAAC,GAAD,EAAK,IAAI,CAAC,SAAV,wBACE,MAAC,OAAD,EAAS,EAAE,CAAC,KAAZ,wBACE,KAAC,UAAD,EAAY,UAAU,CAAC,MAAvB,UACGX,IAAI,CAACE,UAAL,CAAgBI,IADnB,EADF,cAIE,KAAC,UAAD,EACE,OAAO,CAAE,yBACPb,SAAQ,CAACN,cAAc,CAAC,CAAEyB,EAAE,CAAEZ,IAAI,CAACY,EAAX,CAAD,CAAf,CADD,EADX,uBAKE,KAAC,SAAD,IALF,EAJF,GADF,cAaE,KAAC,UAAD,WAAaZ,IAAI,CAACE,UAAL,CAAgBW,gBAA7B,EAbF,cAcE,MAAC,OAAD,EAAS,CAAC,CAAC,QAAX,wBACE,MAAC,GAAD,EACE,OAAO,CAAC,MADV,CAEE,UAAU,CAAC,QAFb,CAGE,MAAM,uBAAiB7B,MAAM,CAAC8B,OAAP,CAAe,GAAf,CAAjB,CAHR,wBAKE,KAAC,UAAD,EACE,OAAO,CAAE,yBACPrB,SAAQ,CAACR,aAAa,CAAC,CAAE2B,EAAE,CAAEZ,IAAI,CAACY,EAAX,CAAD,CAAd,CADD,EADX,uBAKE,KAAC,UAAD,IALF,EALF,cAYE,KAAC,UAAD,WAAaZ,IAAI,CAACC,KAAlB,EAZF,cAaE,KAAC,UAAD,EACE,OAAO,CAAE,yBACPR,SAAQ,CAACP,aAAa,CAAC,CAAE0B,EAAE,CAAEZ,IAAI,CAACY,EAAX,CAAD,CAAd,CADD,EADX,uBAKE,KAAC,OAAD,IALF,EAbF,GADF,cAsBE,MAAC,UAAD,EAAY,UAAU,CAAC,MAAvB,WAA8B,GAA9B,CACIZ,IAAI,CAACE,UAAL,CAAgBC,KADpB,GAtBF,GAdF,GATF,GADF,cAoDE,KAAC,OAAD,IApDF,aAAaH,IAAI,CAACE,UAAL,CAAgBI,IAA7B,aAAqCN,IAAI,CAACY,EAA1C,EADQ,EAAT,CADH,EAVF,cAsEE,MAAC,GAAD,EAAK,CAAC,CAAC,QAAP,wBACE,MAAC,OAAD,EAAS,CAAC,CAAC,QAAX,wBACE,KAAC,UAAD,EAAY,UAAU,CAAC,MAAvB,UAA8B,UAA9B,EADF,cAEE,MAAC,UAAD,EAAY,UAAU,CAAC,MAAvB,WAA8B,GAA9B,CAAgCf,UAAhC,GAFF,GADF,cAKE,KAAC,MAAD,EACE,EAAE,CAAE,CACFkB,eAAe,CAAE/B,MAAM,CAACgC,OAAP,CAAe,GAAf,CADf,CAEFC,KAAK,CAAE,OAFL,CAGFC,YAAY,CAAE,CAHZ,CAIFC,QAAQ,CAAE,MAJR,CAKFC,OAAO,CAAE,WALP,CAMFC,CAAC,CAAE,QAND,CADN,CASE,OAAO,CAAE,kBAAM,CACb7B,QAAQ,CAAC,WAAD,CAAR,CACAC,QAAQ,CAACL,aAAa,CAAC,EAAD,CAAd,CAAR,CACD,CAZH,UAaC,UAbD,EALF,GAtEF,GARF,EAXF,EADF,CAoHD,CA9HD,CAgIA,cAAeG,SAAf"},"metadata":{},"sourceType":"module"}