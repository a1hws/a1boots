{"ast":null,"code":"/* jshint node:true */\n'use strict';\n/**\n * Module dependencies.\n */\n//const _ = require('underscore');\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar Parser = require('./parser/csv');\n\nvar Stream = require('./core/stream');\n\nvar helper = require('./core/helper');\n\nvar EOL = require('./core/eol');\n/**\n * Main function that converts json to csv\n *\n * @param {Object|Array} json\n * @param {Object} [options]\n * @param {Function} callback(err, csv) - Callback function\n *      if error, returning error in call back.\n *      if csv is created successfully, returning csv output to callback.\n */\n\n\nmodule.exports = function () {\n  var DEFAULT_OPTIONS = {\n    headers: [],\n    //              Array\n    rename: [],\n    //               Array\n    headerPathString: '.',\n    //    String\n    rowDelimiter: ',',\n    //        String\n    textDelimiter: '\"',\n    //       String\n    arrayPathString: ';',\n    //     String\n    undefinedString: '',\n    //      String\n    endOfLine: EOL || '\\n',\n    //   String\n    mainPathItem: null,\n    //       String\n    booleanTrueString: null,\n    //  String\n    booleanFalseString: null,\n    // String\n    includeHeaders: true,\n    //     Boolean\n    fillGaps: false,\n    //          Boolean\n    verticalOutput: true,\n    //     Boolean\n    forceTextDelimiter: false //Boolean\n\n  }; // argument parsing\n\n  var json = void 0,\n      userOptions = void 0,\n      callback = void 0;\n\n  if (arguments.length === 3) {\n    var _arguments = Array.prototype.slice.call(arguments);\n\n    json = _arguments[0];\n    userOptions = _arguments[1];\n    callback = _arguments[2];\n  } else if (arguments.length === 2) {\n    var any = void 0;\n\n    var _arguments2 = Array.prototype.slice.call(arguments);\n\n    json = _arguments2[0];\n    any = _arguments2[1];\n\n    if (typeof any === 'function') {\n      callback = any;\n    } else if ((typeof any === 'undefined' ? 'undefined' : _typeof(any)) === 'object') {\n      userOptions = any;\n    }\n  } else if (arguments.length === 1) {\n    var _arguments3 = Array.prototype.slice.call(arguments),\n        _any = _arguments3[0];\n\n    if ((typeof _any === 'undefined' ? 'undefined' : _typeof(_any)) === 'object') {\n      var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n      var objectKeys = Object.keys(_any);\n      var isOptions = objectKeys.every(function (key) {\n        return defaultKeys.includes(key);\n      });\n\n      if (objectKeys.length > 0 && isOptions) {\n        userOptions = _any;\n      } else {\n        json = _any;\n      }\n    } else {\n      json = _any;\n    }\n  } else {\n    return new Stream(new Parser(DEFAULT_OPTIONS));\n  }\n\n  var options = Object.assign({}, DEFAULT_OPTIONS, userOptions);\n  var parser = new Parser(options); // if no json is provided Stream API will be used\n\n  if (!json) {\n    return new Stream(parser);\n  } // always return an promise\n\n\n  return new Promise(function (resolve, reject) {\n    parser.parse(json, function (err, result) {\n      if (callback) return callback(err, result);\n      if (err) return reject(err);\n      if (reject) return resolve(result);\n    });\n  });\n};","map":{"version":3,"names":["_typeof","Symbol","iterator","obj","constructor","prototype","Parser","require","Stream","helper","EOL","module","exports","DEFAULT_OPTIONS","headers","rename","headerPathString","rowDelimiter","textDelimiter","arrayPathString","undefinedString","endOfLine","mainPathItem","booleanTrueString","booleanFalseString","includeHeaders","fillGaps","verticalOutput","forceTextDelimiter","json","userOptions","callback","arguments","length","_arguments","Array","slice","call","any","_arguments2","_arguments3","_any","defaultKeys","Object","keys","objectKeys","isOptions","every","key","includes","options","assign","parser","Promise","resolve","reject","parse","err","result"],"sources":["/var/www/a1boots/node_modules/jsonexport/dist/index.js"],"sourcesContent":["/* jshint node:true */\n'use strict';\n/**\n * Module dependencies.\n */\n//const _ = require('underscore');\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Parser = require('./parser/csv');\nvar Stream = require('./core/stream');\nvar helper = require('./core/helper');\nvar EOL = require('./core/eol');\n\n/**\n * Main function that converts json to csv\n *\n * @param {Object|Array} json\n * @param {Object} [options]\n * @param {Function} callback(err, csv) - Callback function\n *      if error, returning error in call back.\n *      if csv is created successfully, returning csv output to callback.\n */\nmodule.exports = function () {\n  var DEFAULT_OPTIONS = {\n    headers: [], //              Array\n    rename: [], //               Array\n    headerPathString: '.', //    String\n    rowDelimiter: ',', //        String\n    textDelimiter: '\"', //       String\n    arrayPathString: ';', //     String\n    undefinedString: '', //      String\n    endOfLine: EOL || '\\n', //   String\n    mainPathItem: null, //       String\n    booleanTrueString: null, //  String\n    booleanFalseString: null, // String\n    includeHeaders: true, //     Boolean\n    fillGaps: false, //          Boolean\n    verticalOutput: true, //     Boolean\n    forceTextDelimiter: false //Boolean\n  };\n  // argument parsing\n  var json = void 0,\n      userOptions = void 0,\n      callback = void 0;\n  if (arguments.length === 3) {\n    var _arguments = Array.prototype.slice.call(arguments);\n\n    json = _arguments[0];\n    userOptions = _arguments[1];\n    callback = _arguments[2];\n  } else if (arguments.length === 2) {\n    var any = void 0;\n\n    var _arguments2 = Array.prototype.slice.call(arguments);\n\n    json = _arguments2[0];\n    any = _arguments2[1];\n\n    if (typeof any === 'function') {\n      callback = any;\n    } else if ((typeof any === 'undefined' ? 'undefined' : _typeof(any)) === 'object') {\n      userOptions = any;\n    }\n  } else if (arguments.length === 1) {\n    var _arguments3 = Array.prototype.slice.call(arguments),\n        _any = _arguments3[0];\n\n    if ((typeof _any === 'undefined' ? 'undefined' : _typeof(_any)) === 'object') {\n      var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n      var objectKeys = Object.keys(_any);\n      var isOptions = objectKeys.every(function (key) {\n        return defaultKeys.includes(key);\n      });\n      if (objectKeys.length > 0 && isOptions) {\n        userOptions = _any;\n      } else {\n        json = _any;\n      }\n    } else {\n      json = _any;\n    }\n  } else {\n    return new Stream(new Parser(DEFAULT_OPTIONS));\n  }\n  var options = Object.assign({}, DEFAULT_OPTIONS, userOptions);\n  var parser = new Parser(options);\n  // if no json is provided Stream API will be used\n  if (!json) {\n    return new Stream(parser);\n  }\n  // always return an promise\n  return new Promise(function (resolve, reject) {\n    parser.parse(json, function (err, result) {\n      if (callback) return callback(err, result);\n      if (err) return reject(err);\n      if (reject) return resolve(result);\n    });\n  });\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}