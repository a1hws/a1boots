{"ast":null,"code":"import { useCallback } from 'react';\nimport { useStoreContext } from './useStoreContext';\n/**\n * Get a callback to remove all item with a certain key prefix from the store\n *\n * @example\n * import { useRemoveItemsFromStore } from 'react-admin';\n *\n * const ResetDatagridPrefs = () {\n *    const removeItems = useRemoveItemsFromStore();\n *\n *    const hancleClick = () => {\n *        removeItems('datagrid.prefs');\n *    };\n *\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\n * }\n */\n\nexport var useRemoveItemsFromStore = function useRemoveItemsFromStore(hookTimeKeyPrefix) {\n  var removeItems = useStoreContext().removeItems;\n  return useCallback(function (keyPrefix) {\n    if (typeof keyPrefix === 'undefined' && typeof hookTimeKeyPrefix === 'undefined') {\n      throw new Error('You must provide a key to remove an item from the store');\n    } // @ts-ignore\n\n\n    return removeItems(keyPrefix !== null && keyPrefix !== void 0 ? keyPrefix : hookTimeKeyPrefix);\n  }, [removeItems, hookTimeKeyPrefix]);\n};","map":{"version":3,"mappings":"AAAA,SAASA,WAAT,QAA4B,OAA5B;AAEA,SAASC,eAAT,QAAgC,mBAAhC;AAEA;;;;;;;;;;;;;;;;;AAgBA,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACC,iBAAD,EAA2B;EACtD,eAAW,GAAKF,eAAe,GAAEG,WAAjC;EACR,OAAOJ,WAAW,CACd,UAACK,SAAD,EAAmB;IACf,IACI,OAAOA,SAAP,KAAqB,WAArB,IACA,OAAOF,iBAAP,KAA6B,WAFjC,EAGE;MACE,MAAM,IAAIG,KAAJ,CACF,yDADE,CAAN;IAGH,CARc,CASf;;;IACA,OAAOF,WAAW,CAACC,SAAS,SAAT,aAAS,WAAT,eAAaF,iBAAd,CAAlB;EACH,CAZa,EAad,CAACC,WAAD,EAAcD,iBAAd,CAbc,CAAlB;AAeH,CAjBM","names":["useCallback","useStoreContext","useRemoveItemsFromStore","hookTimeKeyPrefix","removeItems","keyPrefix","Error"],"sources":["/var/www/a1boots/node_modules/ra-core/src/store/useRemoveItemsFromStore.ts"],"sourcesContent":["import { useCallback } from 'react';\n\nimport { useStoreContext } from './useStoreContext';\n\n/**\n * Get a callback to remove all item with a certain key prefix from the store\n *\n * @example\n * import { useRemoveItemsFromStore } from 'react-admin';\n *\n * const ResetDatagridPrefs = () {\n *    const removeItems = useRemoveItemsFromStore();\n *\n *    const hancleClick = () => {\n *        removeItems('datagrid.prefs');\n *    };\n *\n *    return <Button onClick={hancleClick}>Reset datagrid preferences</Button>;\n * }\n */\nexport const useRemoveItemsFromStore = (hookTimeKeyPrefix?: string) => {\n    const { removeItems } = useStoreContext();\n    return useCallback(\n        (keyPrefix?: string) => {\n            if (\n                typeof keyPrefix === 'undefined' &&\n                typeof hookTimeKeyPrefix === 'undefined'\n            ) {\n                throw new Error(\n                    'You must provide a key to remove an item from the store'\n                );\n            }\n            // @ts-ignore\n            return removeItems(keyPrefix ?? hookTimeKeyPrefix);\n        },\n        [removeItems, hookTimeKeyPrefix]\n    );\n};\n"]},"metadata":{},"sourceType":"module"}