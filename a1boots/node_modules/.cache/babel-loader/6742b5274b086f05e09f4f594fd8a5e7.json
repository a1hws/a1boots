{"ast":null,"code":"import * as React from 'react';\nimport { useMemo } from 'react';\nimport { ThemeProvider as MuiThemeProvider, createTheme } from '@mui/material/styles';\nimport { useMediaQuery } from '@mui/material';\nimport { useTheme } from './useTheme';\nimport { useThemesContext } from './useThemesContext';\n/**\n * This sets the Material UI theme based on the preferred theme type.\n *\n * @param props\n * @param props.children The children of the component.\n * @param {ThemeOptions} props.theme The initial theme. Optional, use the one from the context if not provided.\n *\n * @example\n *\n * import { ThemesContext, ThemeProvider } from 'react-admin';\n *\n * const App = () => (\n *    <ThemesContext.Provider value={{ lightTheme, darkTheme }}>\n *      <ThemeProvider>\n *        <Button>Test</Button>\n *      </ThemeProvider>\n *   </ThemesContext.Provider>\n * );\n */\n\nexport var ThemeProvider = function ThemeProvider(_a) {\n  var children = _a.children,\n      themeOverride = _a.theme;\n\n  var _b = useThemesContext(),\n      lightTheme = _b.lightTheme,\n      darkTheme = _b.darkTheme,\n      defaultTheme = _b.defaultTheme;\n\n  var prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\n    noSsr: true\n  });\n  var mode = useTheme(defaultTheme || (prefersDarkMode && darkTheme ? 'dark' : 'light'))[0];\n  var themeValue = useMemo(function () {\n    try {\n      return createTheme(typeof mode === 'object' ? mode // FIXME: legacy useTheme, to be removed in v5\n      : mode === 'dark' ? darkTheme : lightTheme || themeOverride);\n    } catch (e) {\n      console.warn('Failed to reuse custom theme from store', e);\n      return createTheme();\n    }\n  }, [mode, themeOverride, lightTheme, darkTheme]);\n  return React.createElement(MuiThemeProvider, {\n    theme: themeValue\n  }, children);\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAoBC,OAApB,QAAmC,OAAnC;AACA,SACIC,aAAa,IAAIC,gBADrB,EAEIC,WAFJ,QAGO,sBAHP;AAIA,SAASC,aAAT,QAA8B,eAA9B;AAGA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AAEA;;;;;;;;;;;;;;;;;;;;AAmBA,OAAO,IAAML,aAAa,GAAG,SAAhBA,aAAgB,CAACM,EAAD,EAGR;MAFjBC,QAAQ;MACDC,aAAa;;EAEd,SAA0CH,gBAAgB,EAA1D;EAAA,IAAEI,UAAU,gBAAZ;EAAA,IAAcC,SAAS,eAAvB;EAAA,IAAyBC,YAAY,kBAArC;;EAEN,IAAMC,eAAe,GAAGT,aAAa,CAAC,8BAAD,EAAiC;IAClEU,KAAK,EAAE;EAD2D,CAAjC,CAArC;EAGO,QAAI,GAAIT,QAAQ,CACnBO,YAAY,KAAKC,eAAe,IAAIF,SAAnB,GAA+B,MAA/B,GAAwC,OAA7C,CADO,CAAR,CAEd,CAFc,CAAR;EAIP,IAAMI,UAAU,GAAGf,OAAO,CAAC;IACvB,IAAI;MACA,OAAOG,WAAW,CACd,OAAOa,IAAP,KAAgB,QAAhB,GACMA,IADN,CACW;MADX,EAEMA,IAAI,KAAK,MAAT,GACAL,SADA,GAEAD,UAAU,IAAID,aALN,CAAlB;IAOH,CARD,CAQE,OAAOQ,CAAP,EAAU;MACRC,OAAO,CAACC,IAAR,CAAa,yCAAb,EAAwDF,CAAxD;MACA,OAAOd,WAAW,EAAlB;IACH;EACJ,CAbyB,EAavB,CAACa,IAAD,EAAOP,aAAP,EAAsBC,UAAtB,EAAkCC,SAAlC,CAbuB,CAA1B;EAeA,OAAOZ,oBAACG,gBAAD,EAAiB;IAACkB,KAAK,EAAEL;EAAR,CAAjB,EAAsCP,QAAtC,CAAP;AACH,CA7BM","names":["React","useMemo","ThemeProvider","MuiThemeProvider","createTheme","useMediaQuery","useTheme","useThemesContext","_a","children","themeOverride","lightTheme","darkTheme","defaultTheme","prefersDarkMode","noSsr","themeValue","mode","e","console","warn","theme"],"sources":["/var/www/a1boots/node_modules/ra-ui-materialui/src/layout/Theme/ThemeProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ReactNode, useMemo } from 'react';\nimport {\n    ThemeProvider as MuiThemeProvider,\n    createTheme,\n} from '@mui/material/styles';\nimport { useMediaQuery } from '@mui/material';\n\nimport { RaThemeOptions } from './types';\nimport { useTheme } from './useTheme';\nimport { useThemesContext } from './useThemesContext';\n\n/**\n * This sets the Material UI theme based on the preferred theme type.\n *\n * @param props\n * @param props.children The children of the component.\n * @param {ThemeOptions} props.theme The initial theme. Optional, use the one from the context if not provided.\n *\n * @example\n *\n * import { ThemesContext, ThemeProvider } from 'react-admin';\n *\n * const App = () => (\n *    <ThemesContext.Provider value={{ lightTheme, darkTheme }}>\n *      <ThemeProvider>\n *        <Button>Test</Button>\n *      </ThemeProvider>\n *   </ThemesContext.Provider>\n * );\n */\nexport const ThemeProvider = ({\n    children,\n    theme: themeOverride,\n}: ThemeProviderProps) => {\n    const { lightTheme, darkTheme, defaultTheme } = useThemesContext();\n\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)', {\n        noSsr: true,\n    });\n    const [mode] = useTheme(\n        defaultTheme || (prefersDarkMode && darkTheme ? 'dark' : 'light')\n    );\n\n    const themeValue = useMemo(() => {\n        try {\n            return createTheme(\n                typeof mode === 'object'\n                    ? mode // FIXME: legacy useTheme, to be removed in v5\n                    : mode === 'dark'\n                    ? darkTheme\n                    : lightTheme || themeOverride\n            );\n        } catch (e) {\n            console.warn('Failed to reuse custom theme from store', e);\n            return createTheme();\n        }\n    }, [mode, themeOverride, lightTheme, darkTheme]);\n\n    return <MuiThemeProvider theme={themeValue}>{children}</MuiThemeProvider>;\n};\n\nexport interface ThemeProviderProps {\n    children: ReactNode;\n    /**\n     * @deprecated Use the `ThemesProvider` component instead.\n     */\n    theme?: RaThemeOptions;\n}\n"]},"metadata":{},"sourceType":"module"}