{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport merge from 'lodash/merge';\nimport { DEFAULT_LOCALE } from './index';\n/**\n * Resolve the browser locale according to the value of the global window.navigator\n *\n * Use it to determine the <Admin> locale at runtime.\n *\n * @example\n *    import * as React from \"react\";\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\n *    import englishMessages from 'ra-language-english';\n *    import frenchMessages from 'ra-language-french';\n *\n *    const messages = {\n *        fr: frenchMessages,\n *        en: englishMessages,\n *    };\n *    const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en,\n *        resolveBrowserLocale()\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n *\n * @param {string} defaultLocale Defaults to 'en'\n * @param options\n * @param {boolean} options.fullLocale Defaults to false\n */\n\nexport var resolveBrowserLocale = function resolveBrowserLocale(defaultLocale, options) {\n  // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\n  // Rely on the window.navigator object to determine user locale\n  var _a = window.navigator,\n      language = _a.language,\n      browserLanguage = _a.browserLanguage,\n      userLanguage = _a.userLanguage;\n  var locale = language || browserLanguage || userLanguage || defaultLocale || DEFAULT_LOCALE;\n  return (options === null || options === void 0 ? void 0 : options.fullLocale) ? locale : locale.split('-')[0];\n};\n/**\n * Compose translations from multiple packages for a single language (eg: 'english').\n *\n * Use it to merge translations from addons with the main react-admin translations.\n *\n * @example\n *     import * as React from \"react\";\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\n *     import englishMessages from 'ra-language-english';\n *     import englishTreeMessages from 'ra-tree-language-english';\n *\n *     const messages = {\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\n *     };\n *     const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n */\n\nexport var mergeTranslations = function mergeTranslations() {\n  var translationsModules = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    translationsModules[_i] = arguments[_i];\n  }\n\n  return merge.apply(void 0, __spreadArray([{}], translationsModules, false));\n};","map":{"version":3,"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,cAAlB;AACA,SAASC,cAAT,QAA+B,SAA/B;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAChCC,aADgC,EAEhCC,OAFgC,EAEE;EAElC;EACA;EACM,SAIFC,MAAM,CAACC,SAJL;EAAA,IACFC,QAAQ,cADN;EAAA,IAEFC,eAAe,qBAFb;EAAA,IAGFC,YAAY,kBAHV;EAMN,IAAMC,MAAM,GACRH,QAAQ,IACRC,eADA,IAEAC,YAFA,IAGAN,aAHA,IAIAF,cALJ;EAOA,OAAO,QAAO,SAAP,WAAO,WAAP,GAAO,MAAP,UAAO,CAAEU,UAAT,IAAsBD,MAAtB,GAA+BA,MAAM,CAACE,KAAP,CAAa,GAAb,EAAkB,CAAlB,CAAtC;AACH,CApBM;AAsBP;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;EAAC;;OAAA,yCAAgC;IAAhCC;;;EAC9B,YAAK,MAAL,CAAK,MAAL,EAAKC,eAAC,EAAD,GAAQD,mBAAR,EAA2B,KAA3B,CAAL;AAAiC,CAD9B","names":["merge","DEFAULT_LOCALE","resolveBrowserLocale","defaultLocale","options","window","navigator","language","browserLanguage","userLanguage","locale","fullLocale","split","mergeTranslations","translationsModules","__spreadArray"],"sources":["/var/www/a1boots/node_modules/ra-core/src/i18n/TranslationUtils.ts"],"sourcesContent":["import merge from 'lodash/merge';\nimport { DEFAULT_LOCALE } from './index';\n\ninterface AllNavigatorLanguage extends NavigatorLanguage {\n    browserLanguage?: string;\n    userLanguage?: string;\n}\n\n/**\n * Resolve the browser locale according to the value of the global window.navigator\n *\n * Use it to determine the <Admin> locale at runtime.\n *\n * @example\n *    import * as React from \"react\";\n *    import { Admin, Resource, resolveBrowserLocale } from 'react-admin';\n *    import polyglotI18nProvider from 'ra-i18n-polyglot';\n *    import englishMessages from 'ra-language-english';\n *    import frenchMessages from 'ra-language-french';\n *\n *    const messages = {\n *        fr: frenchMessages,\n *        en: englishMessages,\n *    };\n *    const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en,\n *        resolveBrowserLocale()\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n *\n * @param {string} defaultLocale Defaults to 'en'\n * @param options\n * @param {boolean} options.fullLocale Defaults to false\n */\nexport const resolveBrowserLocale = (\n    defaultLocale?: string,\n    options?: { fullLocale?: boolean }\n): string => {\n    // from http://blog.ksol.fr/user-locale-detection-browser-javascript/\n    // Rely on the window.navigator object to determine user locale\n    const {\n        language,\n        browserLanguage,\n        userLanguage,\n    } = window.navigator as AllNavigatorLanguage;\n\n    const locale =\n        language ||\n        browserLanguage ||\n        userLanguage ||\n        defaultLocale ||\n        DEFAULT_LOCALE;\n\n    return options?.fullLocale ? locale : locale.split('-')[0];\n};\n\n/**\n * Compose translations from multiple packages for a single language (eg: 'english').\n *\n * Use it to merge translations from addons with the main react-admin translations.\n *\n * @example\n *     import * as React from \"react\";\n *     import { Admin, Resource, mergeTranslations } from 'react-admin';\n *     import polyglotI18nProvider from 'ra-i18n-polyglot';\n *     import englishMessages from 'ra-language-english';\n *     import englishTreeMessages from 'ra-tree-language-english';\n *\n *     const messages = {\n *        en: mergeTranslations(englishMessages, englishTreeMessages),\n *     };\n *     const i18nProvider = polyglotI18nProvider(\n *        locale => messages[locale] ? messages[locale] : messages.en\n *    );\n *\n *    const App = () => (\n *        <Admin i18nProvider={i18nProvider}>\n *            ...\n *        </Admin>\n *    );\n */\nexport const mergeTranslations = (...translationsModules: object[]) =>\n    merge({}, ...translationsModules);\n"]},"metadata":{},"sourceType":"module"}